(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[109],{13292:function(e,t,r){Promise.resolve().then(r.bind(r,6362))},7613:function(e,t,r){"use strict";r.d(t,{ZP:function(){return l},db:function(){return u},tO:function(){return d}}),r(75863);var n=r(1313),a=r(24734),s=r(6936),i=r(64202);r(82419),r(44665);let o=(0,n.ZF)({apiKey:"AIzaSyCzn4Scs1dY52Mu6iBszw6sLCjrU6LSO8c",authDomain:"pffg-8233f.firebaseapp.com",projectId:"pffg-8233f",storageBucket:"pffg-8233f.appspot.com",messagingSenderId:"491732775256",appId:"1:491732775256:web:48bb939e119ba84c80752d",measurementId:"G-XLD19XFSTG"}),l=(0,a.v0)(o),u=(0,s.ad)(o),d=(0,i.cF)()},6362:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return v}});var n=r(9268),a=r(64066),s=r(14240),i=r(86006),o=r(19700),l=r(50828),u=r(34999),d=r(26186),c=r.n(d);r(84890);var m=r(47653),p=r(75991),f=r(59244),x=r(73737),b=r(20102),h=r(64202),g=r(7613),j=r(6936);let C=()=>{let[e,t]=(0,i.useState)(l.EditorState.createEmpty()),s=(0,u.UserAuth)(),d=c()(async()=>{let e=await r.e(265).then(r.t.bind(r,24245,23));return{default:e.Editor}},{loadableGenerated:{webpack:()=>[24245]},ssr:!1}),C=(0,o.cI)({defaultValues:{title:"",description:"",file:void 0,date:new Date}}),{control:v,handleSubmit:P,reset:Z,formState:{isSubmitting:w,errors:S,isValid:y,isSubmitted:E}}=C,F=function(e){t(e);let{blocks:r}=(0,l.convertToRaw)(e.getCurrentContent());e.getCurrentContent().getPlainText("\x01")};return(0,i.useEffect)(()=>{},[null==s?void 0:s.user]),(0,n.jsx)(a.ZP,{item:!0,xs:12,children:(0,n.jsx)(p.Z,{sx:{padding:"20px"},children:(0,n.jsxs)(f.Z,{component:"form",onSubmit:P(e=>{let t=(0,h.iH)(g.tO,"postsImages/".concat(e.file.name));(0,h.KV)(t,e.file).then(t=>{(0,j.ET)((0,j.hJ)(g.db,"posts"),{title:e.title,description:e.description,file:"gs://".concat(t.metadata.bucket,"/postsImages/").concat(e.file.name),date:e.date}).then(()=>{alert("Dodałeś post!"),Z()})}).catch(e=>{alert(e)})}),disabled:w,children:[(0,n.jsx)(o.Qr,{name:"title",control:v,rules:{required:"Podaj tytuł!"},render:e=>{var t;let{field:r}=e;return(0,n.jsx)(x.Z,{label:"Tytuł posta",variant:"outlined",autoComplete:"username",size:"small",type:"text",error:!!S[r.name],helperText:null===(t=S[r.name])||void 0===t?void 0:t.message,fullWidth:!0,sx:{mb:3},...r})}}),(0,n.jsx)(o.Qr,{name:"file",control:v,rules:{required:"Wybierz plik!"},render:e=>{let{field:t}=e;return(0,n.jsx)(m.z,{inputProps:{accept:".png, .jpeg"},...t})}}),(0,n.jsx)(o.Qr,{name:"description",control:v,rules:{required:"Podaj tytuł!"},render:t=>{let{field:r}=t;return(0,n.jsx)(d,{editorState:e,toolbarClassName:"toolbarClassName",wrapperClassName:"wrapperClassName",editorClassName:"editorClassName",onEditorStateChange:F,...r})}}),(0,n.jsx)(b.Z,{type:"submit",variant:"contained",size:"small",sx:{mb:5},disabled:w,children:"Dodaj post"})]})})})};var v=e=>{let{}=e;return(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)(a.ZP,{container:!0,direction:"row",alignItems:"center",justifyContent:"center",children:[(0,n.jsx)(a.ZP,{item:!0,sx:{textAlign:"center",background:"linear-gradient(90deg, rgba(255,255,255,1) 0%, #005A9C 50%, rgba(255,255,255,1) 100%)",color:"#FFFFFF"},xs:8,mt:6,mb:6,children:(0,n.jsx)(s.Z,{variant:"h3",component:"h2",mt:3,mb:2,children:"Dodaj post"})}),(0,n.jsx)(a.ZP,{item:!0,xs:8,children:(0,n.jsx)(C,{})})]})})}},34999:function(e,t,r){"use strict";r.r(t),r.d(t,{AuthContextProvider:function(){return l},UserAuth:function(){return u}});var n=r(9268),a=r(86006),s=r(24734),i=r(7613);let o=(0,a.createContext)(null),l=e=>{let{children:t}=e,[r,l]=(0,a.useState)(null);return(0,a.useEffect)(()=>{let e=(0,s.Aj)(i.ZP,e=>{e&&l(e)});return()=>{e()}},[]),(0,n.jsx)(o.Provider,{value:{createUser:(e,t)=>(0,s.Xb)(i.ZP,e,t),signIn:(e,t)=>(0,s.e5)(i.ZP,e,t),user:r,logout:()=>(l(null),(0,s.w7)(i.ZP))},children:t})},u=()=>(0,a.useContext)(o)}},function(e){e.O(0,[662,913,746,149,594,976,819,253,961,744],function(){return e(e.s=13292)}),_N_E=e.O()}]);